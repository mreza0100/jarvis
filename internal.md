# How does Jarvis works!

## Diagram

```
                                                                                               ┌───────────────────────────────┐       ┌───────────────────────────────────┐
                                                                                               │                               │       │                                   │
                                                                                               │ File Descriptors (FDs)        │       │                                   │
                                                                                               │                               │       │                                   │
                                                                                               │ Stdin                         │       │                                   │
                                                                                               │ Stdout                        │       │           OpenAI APIs             │
                                                                                               │ Stderr                        │       │                                   │
                                                                                               │                               │       │                                   │
                                                                                               │                               │       │                                   │
                                                                                               │                               │       │                                   │
                                                                                               └───────────────▲───────────────┘       │                                   │
                                                                                                               │                       └─────────────────▲─────────────────┘
                                                                                                               │                                         │
                                                                                                               │                                         │
                                                                                                               │                                         │
                                                                                                               │                                         │
                                                                                                               │                                         │
                                                                                                               │                                         │
                                                                                                               │                                         │
                                                                                                               │                                         │
                                                  ┌─────────────────────────────────────┬──────────────────────┼──────────────┬────────────────────┐     │
                                                  │                                     │                      │              │                    │     │
                                                  │                                     │                      │              │                    │     │
                                                  │                                     │                      │              │                    │     │
                                                  │                                     │                      │              │                    │     │
                                                  │                                     │                      │              │                    │     │
                                       ┌──────────▼───────────┐             ┌───────────▼──────────┐           │ ┌────────────▼─────────┐          │     │
                                       │   History Adapter    │             │   Terminal Adapter   │           │ │     Chat Adapter     │          │     │
                                       │                      │             │                      │           │ │                      │          │     │
                                       │                      │             │Renders Markdown      │           │ │Interact with API     │          │     │
                                       │Dump history on disk  │             │Read                  ├───────────┘ │                      ├──────────┼─────┘
                                       │                      │             │Write                 │             │                      │          │
                                       │                      │             │Log controll          │             │                      │          │
                                       │                      │             │                      │             │                      │          │
                                       └─────────▲────────────┘             └──────────▲───────────┘             └────────────▲─────────┘          │
                                                 │                                     │                                      │                    │
                                                 │                                     │                                      │                    │
                                                 │                                     │                                      │                    │
                                                 │                                     │                                      │                    │
                                                 │                                     │                                      │                    │
                                       ┌─────────┴─────────────────────────────────────┴──────────────────────────────────────┘                    │
                                       │                                                                                                           │
                                       │                                                                                                           │
                                       │                                                                                                           │
                                       │                                                                                                           │
                                       │                                                                                                           │
                                       │                                                                              ┌────────────────────────────┘
                                       │                                                                              │
┌───────────────────────┐              ├─────────────────────┐                                  ┌─────────────────────┤              ┌───────────────────────┐
│   OS Script Runner    │              │         OS          │                                  │      Postgres       │              │ Postgres Query Runner │
│                       │              │   Service Domain    │                                  │    Service Domain   │              │                       │         ┌───────────────────┐
│       Adapter         │              │                     │                                  │                     │              │       Adapter         │         │  Postgres Server  │
│                       │              │                     │                                  │                     │              │                       ├─────────►                   │
│                       ◄──────────────┤                     │                                  │                     ├──────────────►                       │         │                   │
│                       │              │                     │                                  │                     │              │                       │         └───────────────────┘
│                       │              │                     │                                  │                     │              │                       │
│                       │              │                     │                                  │                     │              │                       │
└───────────────────────┘              └──────────▲──────────┘                                  └─────────▲───────────┘              └───────────────────────┘
                                                  │                                                       │
                                                  │                                                       │
                                                  │                                                       │
                                                  │                                                       │
                                                  │                                                       │
                                                  │                                                       │
                                                  │                                                       │
                                                  │                                                       │
                                                  │                                                       │
                                                  │                                                       │
                                                  │                                                       │
                                                  │                                                       │
                                        ┌─────────┴───────┐                                               │
                                        │                 │                                      ┌────────┴────────┐
                                        │       OS        │                                      │                 │
                                        │   CLI Handler   │                                      │    Postgres     │
                                        │                 │                                      │   CLI Handler   │
                                        │                 │                                      │                 │
                                        └─────────────────┘                                      │                 │
                                                                                                 └─────────────────┘

```
